<!DOCTYPE html><html lang="ru" dir="ltr"><head><!--#include file="h.htm"--><meta name="description" content="Космический центр Луны - Вселенная программирования на языке Lua. Компилятор Lua."><meta name="keywords" content="lua, справочник lua, язык lua, компилятор lua, lua как собрать, компиляция, сборка, программирование, учебник lua, lua с нуля, космический центр"><title>Космический центр - Компилятор Lua</title></head><body><!--#include file="z.htm"--><div><!--#include file="n.htm"--><article><h3>Зачем нужен компилятор языка Lua</h3><p>В одной папке с исполняемым файлом lua после установки находится файл luac - это компилятор языка lua, который позволяет создать из скрипта (Lua - это скриптовый язык) исполняемый двоичный файл, который, как и все исполняемые двоичные файлы, может быть загружен в физическую память устройства операционной системой и выполнен. Преимуществами скомпилированной программы являются более быстрая загрузка, защита кода от модификации, встроенная проверка синтаксиса. Компиляция не добавляет скорости непосредственно исполнения, поскольку файл с расширением .lua будет проверяться и компилироваться в процессе выполнения интерпретатором lua. Ваша скомпилированная программа не всегда будет занимать меньше места на диске. Основная цель компиляции - ускорить загрузку в память. Двоичные файлы программ на Lua являются переносимыми, то есть могут быть исполнены на различных аппаратных архитектурах (слово должно иметь тот же размер, и порядок байтов должен быть одинаковым). Для компиляции введите команду:<br><b>luac privet.lua</b><br>Если Вы получили сообщение о том, что luac не является командой, то вводите ./luac и ./lua вместо команд luac и lua. Будет создан исполняемый файл luac.out, который можно запустить командой:<br><b>lua luac.out</b><br>Для изменения названия выходного файла компилятора Lua добавьте параметр -o сразу после luac через пробел, после чего через пробел укажите имя выходного файла. Желательно использовать расширение .luac для указания на способ запуска программы:<br><b>luac -o binary.luac privet.lua</b><br>Теперь полученный файл можно запустить:<br><b>lua binary.luac</b><br>Можно уменьшить размер выходного файла программы печати приветствия компилятора Lua, если убрать из файла отладочную инфмормацию в процессе компиляции, используя параметр -s:<br><b>luac -o binary_stripped.luac -s privet.lua</b><br>Файл исходного кода имел размер 31 байт, исполняемый файл binary.luac - 120 байт, binary_stripped.luac - 99 байт</p></article><div><!--#include file="f.htm"--></body></html>
